[flake8]
max-line-length = 120
exclude = .git,__pycache__,.venv,venv,build,dist
per-file-ignores =
    # Allow non-abstract empty methods in abstract base classes
    */base.py: B027
    # Relax style rules in tests (focus CI on functional correctness)
    tests/*.py: S112, F401, F841, E261, E302, E305, E402, E501, W291, W293, W391, C901, E122, E128

[coverage:run]
source = src
omit = 
    */__init__.py
    */tests/*

[coverage:report]
exclude_lines =
    # Have to re-enable the standard pragma
    pragma: no cover
    # Don't complain about debug-only code
    def __repr__
    raise NotImplementedError
    raise ImportError
    if __name__ == .__main__.:
    pass
    raise ImportError
    raise NotImplementedError
    # Ignore test files
    if TYPE_CHECKING:

[coverage:html]
directory = htmlcov

[mypy]
python_version = 3.9
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True

[[tool.mypy.overrides]]
module = ["tests.*"]
disallow_untyped_defs = False

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = "-v --cov=src --cov-report=term-missing"

[tool.black]
line-length = 120
target-version = ['py39']
include = '\.pyi?$'
